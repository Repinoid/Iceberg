# Basic Connector Configuration
connector.name=iceberg
iceberg.catalog.type=jdbc

# JDBC Catalog Configuration (используем ваш контейнер metastore-db)
iceberg.jdbc-catalog.driver-class=org.postgresql.Driver
iceberg.jdbc-catalog.connection-url=jdbc:postgresql://metastore-db:5432/metastore
iceberg.jdbc-catalog.connection-user=${ENV:MDB_USER}
iceberg.jdbc-catalog.connection-password=${ENV:MDB_PASSWORD}
iceberg.jdbc-catalog.catalog-name=aws3-catalog

# Указываем корневой путь к данным в вашем бакете GCS
iceberg.jdbc-catalog.default-warehouse-dir=gs://triner

# Google Cloud Storage file system support
# https://trino.io/docs/current/object-storage/file-system-gcs.html

# File System Configuration для GCS
fs.hadoop.enabled=false
fs.native-gcs.enabled=true

# GCS Configuration
# gcs.project-id=${ENV:GCP_PROJECT_ID}
gcs.json-key-file-path=/etc/trino/google.json
# gcs.json-key=/etc/trino/google.json

#  возможно в прежних трино и была аутентификация по ключам, теперь - только по json
# gcs.access-key  =   ${ENV:GCP_ACCESS_KEY}
# gcs.secret-key  =   ${ENV:GCP_SECRET_KEY}

# # gcs.region      =   ${ENV:GCP_REGION}
gcs.endpoint    =   ${ENV:GCP_ENDPOINT}